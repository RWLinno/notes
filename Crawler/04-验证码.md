---
title : 04-网络爬虫之验证码
date : 2021-6-20
tags: 网络爬虫
---



# 验证码



验证码和爬虫之间的爱恨情仇？
反爬机制：验证码。识别验证码图片中的数据，用于模拟登陆操作。
识别验证码的操作：
-人工肉眼识别（不推荐）
-第三方自动识别（推荐）
  -云打码：http://www.yundama.com/demo.html



##### 云打码的使用流程

​	-注册：普通和开发者用户
​	-登录：
​		-普通用户的登录：查询该用户是否还有剩余的题分
​		-开发者用户的登录：
​			-创建一个软件：我的软件->添加新软件->录入软件名称->提交（软件Id和秘钥）
​			-下载实例代码：开发文档->点此下载->云打印接口dll->PythonHTTP示例下载



##### 使用打码平台识别验证码的编码流程

​	-将验证码图片进行本地下载
​	-调用平台提供的实例代码进行图片数据识别



##### 模拟登陆

​	-爬取基于某些用户的用户信息
需求：对人人网进行模拟登陆
​	-点击登陆按钮之后会发起一个post请求
​	-post请求中会携带登陆之前录入的相关的登录信息（用户、密码、验证码……）
​	-验证码：每次请求都会动态变化



##### 编码流程

1.验证码的识别，获取验证码图片的文字数据
2.对post请求进行发送（处理请求参数）
3.对想要数据进行持久化存储



##### cookie

用来让服务器端记录客户端的相关状态 
	-手动处理：通过抓包工具获取cookie值，将该值封装到headers中（不建议）
	-自动处理：
		-cookie值的来源是哪里？
			-模拟登陆post请求后，由服务器端创建。
		-session会话对象：
			-作用：
				1.可以进行请求的发送
				2.如果请求过程中产生了cookie,则该cookie会被自动存储在该session对象中
		-使用session对象进行模拟登录post请求的发送
		-session对象对个人主页对应的get请求进行发发送(携带了cookie)



##### 代理

破解封IP这种防爬机制
什么是代理：	-代理服务器。
代理的作用：-突破自身IP访问的限制
					  -隐藏自身真实IP，免受攻击
代理相关的网站：
	-快代理
	-西祠代理
	-www.goubanjia.com
代理ip的类型：
	-http:应用到http协议对应的url中
	-https:应用到https协议对应的url中
代理ip的匿名度：
	-透明：服务器知道该次请求使用了代理，也知道请求对应的真实IP
	-匿名：知道使用了代理，不知道真实ip
	-高匿：不知道使用了代理，更不知道真实的ip