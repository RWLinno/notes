---
title : 2018牛客多校第四场
date : 2021-10-4
tags : ACM,练习记录
author : Linno


---



题目链接：https://ac.nowcoder.com/acm/contest/20326#question

进度：4/10

# A-gpa

### 题目

给定n个数的s和c,求最多删去k个数后$\frac{\sum s[i]c[i]}{\sum s[i]}$的最大值。

### 思路

分数规划问题，我们可以二分枚举答案，要使上面那条式子最大，就需要选出n-k个$s[i]*c[i]-s[i]*x$较大的数（排序）。

### 代码

```C++
#include<stdio.h>
#include<iostream> 
#include<algorithm>
#define inf 0x3f3f3f3f
#define int long long
#define fi first
#define se second
using namespace std;
const int maxn=2e5+7;
const int mod=1e9+7;
const double eps=1e-10;

typedef pair<double,double> P;

bool cmp(P a,P b){
	return a.se*b.fi>b.se*a.fi;
}

P node[maxn];
int n,k;
double ps[maxn];

bool check(double x){
	for(int i=1;i<=n;i++) ps[i]=node[i].se-node[i].fi*x;
	sort(ps+1,ps+1+n);
	double ans=0;
	for(int i=n;i>=k+1;i--) ans+=ps[i];
	return ans>=0;
}

signed main(){
	cin>>n>>k;
	for(int i=1;i<=n;i++) cin>>node[i].fi;
	for(int i=1;i<=n;i++){
		cin>>node[i].se;
		node[i].se*=node[i].fi; 
	}
	double L=0,R=1e17,mid,res=0;
	while(R-L>eps){
		mid=(L+R)/2;
		if(check(mid)){
			L=mid;
			res=mid;
		}else R=mid;
	}
	printf("%.11lf",res);
	return 0;
}
```



# B-div

### 题意

$给出m(1<=m<=10^{1000})。求出不小于m的n的最小值，\\使得存在一个x∈[n^2+1,n^2+2n]且x|n^4。$

### 思路

正常人：暴力打表找规律+python

原理证明：
$$
假设(n^2+a)|n^4。\\
因为(n^2+a)|(n^2+a)*(n^2-a)，所以(n^2+a)|n^4-(n^2+a)*(n^2-a)。\\
n^4-(n^2+a)*(n^2-a)=a^2，所以(n^2+a)|a^2。\\
令a^2=t(n^2+a)，因为a^2<=4n^2<4(n^2+a)，所以t=1,2,3。\\
t=1时,a^2=n^2+a，a*(a-1)=n^2，无解。\\
t=2时,n_{k+2}=6n_{k+1}-n_k。(n_0=0,n_1=2)\\
t=3时,n_{k+2}=14n_{k+1}-n_k。(n_0=0,n_1=6)\\
$$

### 代码

```python
m = int(input())
a, b = 0, 2
c, d = 0, 6
while m > b:
    a, b = b, 6*b-a
while m > d:
    c, d = d, 14*d-c
print(min(b, d))
```





# G-max

### 题意

求a*b的最大值，其中a和b的公约数是c，且a<=n,b<=n。

### 思路

a和b都是c的倍数，而且两个倍数p和q是互质的，那么可取q=p-1，再特判a和b都取c的情况即可。

### 代码

```C++
#include<iostream>
#include<algorithm>

using namespace std;
typedef unsigned long long ll;

ll a,b,c,n;

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0); cout.tie(0);
	cin>>c>>n;
	if(c>n)cout<<-1<<endl;
    else if(c<=n&&n<2*c)cout<<c*c<<endl;
	else
	{
		ll p=n/c;
		cout<<(p-1)*c*p*c<<endl;
	}
	return 0;
}
```



# J-plan

### 题意

给出双人房的价格p2和三人房的价格p3，求住n个人的最少花费。

### 思路

比较2个三人房和三个双人房的价格，如果双人房比较划算，那么肯定是一直买双人房或者最后一个买三人房的，否则退一个房看一下最后剩的人用什么房比较合适。

### 代码

```C++
#include <iostream>
#include <algorithm>
using namespace std;
typedef long long ll;

ll n,p2,p3,ans;
int main() {
    cin>>n>>p2>>p3;
    if(p2>=p3) ans=(n+2)/3*p3;
    else if(3*p2<=2*p3) {
        ll yu=n%2;
        if(yu==1) ans=min((n/2+1)*p2,(n/2-1)*p2+p3);
        else ans=n/2*p2;
    }
    else {
        ll yu=n%3;
        if(yu==2) ans=(n/3)*p3+p2;
        else if(yu==1) ans=min(n/3*p3+p2,(n/3-1)*p3+2*p2);
        else ans=n/3*p3;
    }
    cout<<ans<<endl;
    return 0;
}
```



