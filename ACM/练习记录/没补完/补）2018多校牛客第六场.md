---
title : 2018牛客多校第六场
date : 2021-10-6
tags : ACM,练习记录
author : Linno
---



题目链接：https://ac.nowcoder.com/acm/contest/20327

进度：4/10



# A-Singing Contest

### 题意

有2^n名选手进行n轮比赛，他们每个人都有n首歌，每首歌只能用一次，每轮比赛歌曲权值大的获胜，问谁能获得最终胜利。

### 思路

每轮比赛较弱的选手会全力以赴，较强的则会选出稍大于对手最强的歌曲的歌。按照这个规律比赛分治就能求出最后的赢家，模拟题。

### 代码

```C++
#include<bits/stdc++.h>
#define inf 0x3f3f3f3f
#define int long long
using namespace std;
const int maxn=2e5+7;
const int mod=1e9+7;

int t,n,N;
int vis[80005][20],mp[80005][20];

int query(int start,int end){
	if(end==start) return start;
	int mid=(start+end)/2;
	int p1=query(start,mid);
	int p2=query(mid+1,end);
	int i=1,j=1;
	while(vis[p1][i]&&i<=n) i++;
	while(vis[p2][j]&&j<=n) j++;
	while(1){
		if(mp[p1][i]<mp[p2][j]){
			do{i++;}while(vis[p1][i]&&i<=n);
		}else if(mp[p1][i]>mp[p2][j]){
			do{j++;}while(vis[p2][j]&&j<=n);
		}
		if(i>n){
			vis[p2][j]=1;
			return p2;	
		}
		if(j>n){
			vis[p1][i]=1;
			return p1;
		}
	}
}

signed main(){
	ios::sync_with_stdio(0);
	cin.tie(0);cout.tie(0);
	cin>>t;
	for(int T=1;T<=t;T++){
		memset(vis,0,sizeof(vis));
		memset(mp,0,sizeof(mp));
		cin>>n;
		N=1;
		for(int i=1;i<=n;i++) N<<=1; //一共N名选手
		for(int i=1;i<=N;i++){
			for(int j=1;j<=n;j++){
				cin>>mp[i][j];
			}
			sort(mp[i]+1,mp[i]+1+n); //由小到大排序 
		}
		cout<<"Case #"<<T<<": "<<query(1,N)<<"\n";
	}
	return 0;
}
```





# D-Bulbasaur

### 题意

给n个face和m个body，有k条有权边相连，求每个节点匹配的权值和的最大值。

### 思路

签到题，每条与body相连的边都取最大值，然后相加即可。

### 代码

```C++
#include<bits/stdc++.h>
#define inf 0x3f3f3f3f
#define int long long
using namespace std;
const int maxn=2e5+7;
const int mod=1e9+7;

int t,ans,mp[maxn];
int n,m,k,u,v,w;

signed main(){
	ios::sync_with_stdio(0);
	cin.tie(0);cout.tie(0);
	cin>>t;
	for(int T=1;T<=t;T++){
		ans=0;
		cin>>n>>m>>k;
		memset(mp,0,sizeof(mp));
		for(int i=1;i<=k;i++){
			cin>>u>>v>>w;
			mp[v]=max(w,mp[v]);
		}
		for(int i=1;i<=m;i++) ans+=mp[i];
		cout<<"Case #"<<T<<": "<<ans<<"\n";
	} 
	return 0;
}
```



