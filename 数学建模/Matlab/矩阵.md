---
title : Matlab矩阵
date : 2021-8-8
tags : 数学建模


---



### 常用函数

magic(n)  生成n行n列魔方矩阵

zeros(n)创建所有元素为0的n*n矩阵

diag(n)创建n*n的对角矩阵

eye(n)创建n*n的单位矩阵

rand(n*m) 生成一个n行m列的矩阵

randperm(n) 生成由1:n构成的随机数列



length()：返回矩阵最长的一维的长度

ndims()：返回矩阵的维度

numel()：返回矩阵的元素个数

size()：返回矩阵各维的长度



isempty():判断输入矩阵是否为空

iscalar():判断输入矩阵是否为1*1的标量

isvector()：判断输入矩阵是否为向量



### 矩阵运算

A.'非共轭转置，相当于conj(A')

A+B  A-B  A*B A/B  对应元素的加减乘除

k.\*A  A.\*k  k./A  A.\k k乘除A的每一个元素

A\B 左除：AX=B的解  B/A 右除：XA=B的解





### 矩阵操作

矩阵的合并

C=[A B]将A和B在水平方向上合并到一起

C=[A;B]将A和B在竖直方向上合并到一起

注意：需要合并的两个矩阵在维度上保持一致 



矩阵的寻址

```matlab
>> a=[1 2 3;4 5 6]  %创建测试矩阵

a =

     1     2     3
     4     5     6

>> A=a(2,2)   %采用全下标标识法寻访

A =

     5

>> b=a(5)    %采用单下标标识法寻访

b =

     3

>> B=a>5   %返回逻辑下标

B =

  2×3 logical 数组

   0   0   0
   0   0   1

>> c=a(B)  %采用逻辑1标识法寻访

c =

     6

>> d=a(1,:)  %通过使用冒号可以寻访全行元素

d =

     1     2     3

>> e=a(:,2)  %通过使用冒号可以寻访全列元素

e =

     2
     5
 
>> f=a(:)   %采用单下标标识法寻访

f =

     1
     4
     2
     5
     3
     6

>> g=a(:,[1 3])   %寻访地址可以是向量，以同时寻访多个元素

g =

     1     3
     4     6
```



矩阵的赋值

```matlab
>> a=magic(4)

a =

    16     2     3    13
     5    11    10     8
     9     7     6    12
     4    14    15     1

>> a(3,4)=0 %单个元素进行赋值

a =

    16     2     3    13
     5    11    10     8
     9     7     6     0
     4    14    15     1

>> a(:,1)=1  %对第一列赋值

a =

     1     2     3    13
     1    11    10     8
     1     7     6     0
     1    14    15     1

>> a(14)=16  %采用单下标标识法对第14个元素进行赋值

a =

     1     2     3    13
     1    11    10    16
     1     7     6     0
     1    14    15     1

```



矩阵的重构

```matlab

>> A(:,1)=[]  %删除矩阵A的第1列

A =

     2     3    13
    11    10     8
     7     6    12
    14    15     1

>> A(2,:)=[]   %删除矩阵A的第2行

A = 

     2     3    13
     7     6    12
    14    15     1
    
>> rot90(A)  %将矩阵A逆时针旋转90°
>> flipud(A)  %将矩阵A上下翻转
>> fliplr(A)  %将矩阵A左右翻转
>> tril(A)  %取下三角
>> triu(A)  %取上三角
>> reshape(A,m,n)  %将矩阵A的维数变为(m*n)
```



### 稀疏矩阵

作用：对于包含较多0元素的矩阵，通过消去0元素可以减少占用内存以及计算所需的时间。



```matlab
>> M_full=magic(1000);    %创建普通矩阵
>> M_full(M_full > 50) = 0;  %筛去元素值大于50的数
>> M_sparse=sparse(M_full);   %创建稀疏矩阵
>> whos	 %查看两者占用内存
>> B=full(M_sparse)  %转化为一般矩阵
>> S=sparse([1 3 2 1 4],[3 1 4 1 4],[1 2 3 4 5],4,5)  %直接创建稀疏矩阵
>> spy(B) %绘制矩阵视图
```



### 构建多维数组

```matlab
>> A(:,:,1)=magic(4);
>> A(:,:,2)=ones(4);
>> A(:,:,3)=zeros(4)
%多组合成法
A(:,:,1) =

    16     2     3    13
     5    11    10     8
     9     7     6    12
     4    14    15     1


A(:,:,2) =

     1     1     1     1
     1     1     1     1
     1     1     1     1
     1     1     1     1


A(:,:,3) =

     0     0     0     0
     0     0     0     0
     0     0     0     0
     0     0     0     0
     
```

```matlab
>> rand('state',0);
>> B=rand(5,4,3)
% 随机数生成多维数组
B(:,:,1) =

    0.9501    0.7621    0.6154    0.4057
    0.2311    0.4565    0.7919    0.9355
    0.6068    0.0185    0.9218    0.9169
    0.4860    0.8214    0.7382    0.4103
    0.8913    0.4447    0.1763    0.8936


B(:,:,2) =

    0.0579    0.2028    0.0153    0.4186
    0.3529    0.1987    0.7468    0.8462
    0.8132    0.6038    0.4451    0.5252
    0.0099    0.2722    0.9318    0.2026
    0.1389    0.1988    0.4660    0.6721


B(:,:,3) =

    0.8381    0.5028    0.1934    0.6979
    0.0196    0.7095    0.6822    0.3784
    0.6813    0.4289    0.3028    0.8600
    0.3795    0.3046    0.5417    0.8537
    0.8318    0.1897    0.1509    0.5936
```

```matlab
>> B=cat(3,ones(2,3),ones(2,3)*2,ones(2,3)*3)
% cat函数构建多维数组，第一个参数为“扩展方向的维号”
B(:,:,1) =

     1     1     1
     1     1     1


B(:,:,2) =

     2     2     2
     2     2     2


B(:,:,3) =

     3     3     3
     3     3     3
     
>> repmat([1,2;3,4;5,6],[1,2,3]) %repmat构建多为数组
```



### 多项式表达式

```matlab
>> A=[11 12 13;14 15 16;17 18 19];
>> PA=poly(A)  %求A的特征多项式

PA =

    1.0000  -45.0000  -18.0000   -0.0000

>> PPA=poly2str(PA,'s')  %以比较习惯的方式显示多项式

PPA =

    '   s^3 - 45 s^2 - 18 s - 9.8142e-15'

```

